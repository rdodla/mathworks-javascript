<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript and Buttons</title>
  </head>
  <body>
    <div>
      <label>Click to be greeted:</label> <input type="text" id="greet-name" />
      <button id="greet-button">Greet me</button>
      <p id="greet-output"></p>
    </div>
    <hr />
    <div>
      <label>Instant greetings:</label> <input type="text" id="instant-name" />
    </div>
    <hr />
    <div>
      <label>Greetings on enter:</label> <input type="text" id="enter-name" />
      <p id="enter-output"></p>
    </div>

    <script>
      const button = document.getElementById('target-button');
      /*
      keydown
      keyup
      change
      input -> picks up every keypress, easier than keydown/keyup
      */

      /*
      button.addEventListener('click', function () {
        const textInput = document.getElementById('your-name');
        const name = textInput.value;
        console.log(`Hello, ${name}`);
      });
      */

      const greetButton = document.getElementById('greet-button');

      greetButton.addEventListener('click', () => {
        const greetInput = document.getElementById('greet-name');
        const name = greetInput.value;
        const greetOutput = document.getElementById('greet-output');
        greetOutput.innerText = `Hello, ${name}`;
      });

      /*
      const instantInput = document.getElementById('instant-name');
      instantInput.addEventListener('input', () => {
        const name = instantInput.value;
        const instantOutput = document.getElementById('instant-output');
        instantOutput.innerText = `Instant greetings, ${name}`;
      });
      */

      document
        .getElementById('instant-name')
        .addEventListener('input', (event) => {
          const parentElement = event.target.parentElement;
          let p;
          if (parentElement.lastElementChild.tagName.toUpperCase() !== 'P') {
            p = document.createElement('p');
            parentElement.append(p);
          } else {
            p = parentElement.lastElementChild;
          }
          p.innerText = `Instant greetings, ${event.target.value}`;
        });

      document
        .getElementById('enter-name')
        .addEventListener('keyup', (event) => {
          if (event.code !== 'Enter') {
            return;
          }
          const enterOutput = document.getElementById('enter-output');
          enterOutput.innerText = `Only on Enter: ${event.target.value}.`;
        });

      /*
      TODOS:
        Update greeting on <Enter> DONE
        Add greeting element on-the-fly DONE
        Add greeting element adjacently and functionally (Tuesday morning)
        */

      /*
      button.addEventListener('mouseenter', function () {
        button.innerText = "Don't click on me";
      });
      button.addEventListener('mouseleave', function () {
        button.innerText = 'Click on me';
      });
      */
    </script>
  </body>
</html>
